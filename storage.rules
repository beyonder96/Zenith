rules_version = '2';

service firebase.storage {
  match /b/{bucket}/o {
    // Regras para arquivos de pets
    match /pets/{userId}/{folder}/{fileName} 
      where folder == 'photos' || folder == 'rga' {
      allow read: if true;
      // Allow any authenticated user to write to their own pet folder structure.
      // Firestore rules will still protect the data's ownership.
      allow write: if request.auth != null;
    }
  }
}
